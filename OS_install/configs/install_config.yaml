installs:
  web-01:
    os: ubuntu
    version: "24.04"
    docker: true
    packages: [jq, htop]
    users:
      - username: devops
        sudo: true
        ssh_authorized_keys:
          - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAFIEjyg0u7hl40wE27/BKSo+yZih5Aumax/PTgGVQ1t root@Karcsi"
    network:
      hostname: web-01
      domain: lab.local
      dhcp: false
      address_cidr: "192.168.1.20/24"
      gateway: "192.168.1.1"
      dns: ["1.1.1.1", "9.9.9.9"]
      interfaces:
        - bridge: vmbr0
          model: virtio

  ci-runner-01:
    os: ubuntu
    version: "24.04"
    docker: true
    users:
      - username: runner
        sudo: true
        ssh_authorized_keys:
          - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAFIEjyg0u7hl40wE27/BKSo+yZih5Aumax/PTgGVQ1t root@Karcsi"
    network:
      hostname: ci-runner-01
      dhcp: true
      interfaces:
        - bridge: vmbr0

  baremetal-01:
    os: nixos
    version: "24.05"
    nix_services: [openssh]
    packages: [htop, git]
    users:
      - username: ops
        sudo: true
        ssh_authorized_keys:
          - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAFIEjyg0u7hl40wE27/BKSo+yZih5Aumax/PTgGVQ1t root@Karcsi"
    network:
      hostname: baremetal-01
      domain: lab.local
      dhcp: false
      address_cidr: "192.168.1.50/24"
      gateway: "192.168.1.1"
      dns: ["1.1.1.1"]
      interfaces:
        - bridge: eno1
          mac: "52:54:00:aa:bb:cc"

  nixos-vm-01: # <-- This name MUST match the name in vm_specs.yaml
    os: nixos  # <-- This tells provision.py to use nixos_install.yml
    version: "24.05"

    # Define the variables that nixos_install.yml needs
    network:
      hostname: nixos-vm-01
      dhcp: false
      address_cidr: 192.168.1.21/24
      gateway: 192.168.1.1
      dns: [ "1.1.1.1" ]

    users:
      - username: nixadmin
        sudo: true
        shell: /bin/bash
        ssh_authorized_keys:
          - "ssh-ed25519 AAAAC3...[...your_ssh_public_key...]... root@Karcsi"

    packages:
      - git
      - vim

    # This list enables services in nixos_install.yml
    nix_services:
      - syncthing
      - gitlab
      - plex
      # Add other services from your selection.yml that you want enabled